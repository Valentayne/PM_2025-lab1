<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Name Info Finder</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f3f3f3; display:flex; justify-content:center; align-items:center; height:100vh; }
    .card { background:#fff; padding:20px; border-radius:12px; box-shadow:0 2px 10px rgba(0,0,0,0.1); width:350px; }
    input, button { width:100%; padding:10px; margin:5px 0; border-radius:6px; border:1px solid #ccc; }
    button { background:#007bff; color:#fff; border:none; cursor:pointer; }
    button:hover { background:#0056b3; }
    ul { padding-left:20px; }
  </style>
</head>
<body>
  <div class="card">
    <h2>Name Info Finder</h2>
    <input type="text" id="nameInput" placeholder="Enter name (latin letters)" />
    <button onclick="fetchData()">Search</button>
    <div id="result" style="margin-top:15px;"></div>
  </div>

  <script>
    async function fetchData() {
      const name = document.getElementById("nameInput").value;
      if (!name) return;
      const res = await fetch(`/api/nameinfo?name=${name}`);
      const data = await res.json();

      let html = `<p><strong>Name:</strong> ${data.name}</p>`;
      html += `<p><strong>Gender:</strong> ${data.gender} (${data.probability})</p>`;
      html += `<strong>Country:</strong><ul>`;
      data.country.forEach(c => {
        html += `<li>${c.country_id} (${c.probability.toFixed(2)})</li>`;
      });
      html += `</ul>`;

      document.getElementById("result").innerHTML = html;
    }
  </script>
</body>
</html>
